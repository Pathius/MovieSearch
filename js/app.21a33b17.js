(function(e){function t(t){for(var a,r,c=t[0],s=t[1],l=t[2],u=0,d=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);v&&v(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-07cbeb2c":"cc867a3f","chunk-0a0874cd":"e0d3516b","chunk-0b8decb5":"8009a847","chunk-2d86ab77":"755360a5","chunk-31952ad8":"75b3b860","chunk-37dd103d":"0fa2a44e","chunk-88efd74a":"4635eb55"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-07cbeb2c":1,"chunk-0a0874cd":1,"chunk-0b8decb5":1,"chunk-2d86ab77":1,"chunk-31952ad8":1,"chunk-37dd103d":1,"chunk-88efd74a":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-07cbeb2c":"3c4d4da6","chunk-0a0874cd":"5c6aab83","chunk-0b8decb5":"c3b00e0a","chunk-2d86ab77":"48451635","chunk-31952ad8":"a3f9b82a","chunk-37dd103d":"d82b4196","chunk-88efd74a":"ecd8edde"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var l=i[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===a||u===o)return t()}var v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.onload=t,v.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],v.parentNode.removeChild(v),n(i)},v.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(v)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(v);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var v=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var v=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0c78":function(e,t,n){"use strict";var a=n("ced5"),r=n.n(a);r.a},1168:function(e,t,n){"use strict";var a=n("a7af"),r=n.n(a);r.a},"2e3f":function(e,t,n){"use strict";var a=n("f657"),r=n.n(a);r.a},"2fd9":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[n("path",{attrs:{d:"M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0\n\t\t\tc-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7\n\t\t\tC514.5,101.703,514.499,85.494,504.502,75.496z"}})])},r=[],o=(n("1168"),n("2877")),i={},c=Object(o["a"])(i,a,r,!1,null,"67641558",null);t["a"]=c.exports},"31dc":function(e,t,n){"use strict";var a=n("8fe6"),r=n.n(a);r.a},3200:function(e,t,n){},"3e20":function(e,t,n){"use strict";var a=n("7904"),r=n.n(a);r.a},"4d74":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page",attrs:{id:"app"}},[n("TheNavigation"),n("section",{staticClass:"page__content"},[n("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[n("router-view")],1)],1),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showModal?n("div",{key:"opacity",staticClass:"page__opacity",on:{click:e.closeModal}}):e._e()]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showModal?n("TheLoginModal",{key:"modal",staticClass:"page__modal"}):e._e()],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login",on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;!e.$v.$invalid&&e.login()}}},[n("TheCancelIcon",{staticClass:"login__cancel",nativeOn:{click:function(t){return e.closeModal(t)}}}),n("h2",{staticClass:"login__title"},[e._v("Welcome back!")]),n("div",{staticClass:"login__form-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"login__input",style:e.$v.email.$dirty?e.$v.email.required&&e.$v.email.minLength&&e.$v.email.email?"border: 1px solid green":"border: 1px solid red":null,attrs:{type:"text",placeholder:e.emailPlaceholder},domProps:{value:e.email},on:{input:[function(t){t.target.composing||(e.email=t.target.value.trim())},function(t){e.$v.email.$model=e.email}],focus:function(t){e.emailPlaceholder=""},blur:[function(t){e.emailPlaceholder="Email"},function(t){return e.$forceUpdate()}]}}),e.$v.email.$dirty&&!e.$v.email.$invalid?n("CorrectIcon",{staticClass:"login__icon"}):e._e(),e.$v.email.$dirty&&e.$v.email.$invalid?n("WrongIcon",{staticClass:"login__icon"}):e._e()],1),n("div",{staticClass:"login__form-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"login__input",style:e.$v.password.$dirty?e.$v.password.required&&e.$v.password.minLength?"border: 1px solid green":"border: 1px solid red":null,attrs:{type:"password",placeholder:e.passwordPlaceholder},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value.trim())},function(t){e.$v.password.$model=e.password}],focus:function(t){e.passwordPlaceholder=""},blur:[function(t){e.passwordPlaceholder="Password"},function(t){return e.$forceUpdate()}]}}),e.$v.password.$dirty&&!e.$v.password.$invalid?n("CorrectIcon",{staticClass:"login__icon"}):e._e(),e.$v.password.$dirty&&e.$v.password.$invalid?n("WrongIcon",{staticClass:"login__icon"}):e._e()],1),n("div",{staticClass:"login__checkbox",on:{click:function(t){e.stayLogged=!e.stayLogged}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.stayLogged,expression:"stayLogged"}],staticClass:"login__checkbox-box",attrs:{type:"checkbox",name:"remember"},domProps:{checked:Array.isArray(e.stayLogged)?e._i(e.stayLogged,null)>-1:e.stayLogged},on:{change:function(t){var n=e.stayLogged,a=t.target,r=!!a.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);a.checked?i<0&&(e.stayLogged=n.concat([o])):i>-1&&(e.stayLogged=n.slice(0,i).concat(n.slice(i+1)))}else e.stayLogged=r}}}),e._v("Stay logged? ")]),n("button",{class:e.$v.$invalid||e.loading?"login__button-disabled":"login__button",attrs:{disabled:e.$v.$invalid||e.loading},on:{click:e.login}},[e._v("Sign in")]),n("router-link",{staticClass:"login__register",attrs:{tag:"p",to:"/register"},nativeOn:{click:function(t){return e.closeModal(t)}}},[e._v("or create account")]),e.loading?n("LoadingSpinner"):e._e(),e.error?n("AuthError",{staticClass:"login__error"},[e._v("Error! Check your data")]):e._e()],1)},c=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{"enable-background":"new 0 0 47.971 47.971"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"16px",height:"16px",viewBox:"0 0 47.971 47.971","xml:space":"preserve"}},[n("g",[n("path",{attrs:{d:"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\n\t\tc-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\n\t\tC1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\n\t\ts1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"}})]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")])},l=[],u=(n("967d"),n("2877")),d={},v=Object(u["a"])(d,s,l,!1,null,"6ebe685d",null),p=v.exports,g=n("2fd9"),f=n("70c1"),h=n("d76c"),m=n("e591"),b=n("b5ae"),w={data:function(){return{emailPlaceholder:"Email",passwordPlaceholder:"Password",email:"",password:"",stayLogged:!1}},validations:{email:{required:b["required"],email:b["email"],minLength:Object(b["minLength"])(5)},password:{required:b["required"],minLength:Object(b["minLength"])(8)}},methods:{closeModal:function(){this.$store.commit("closeModal")},login:function(e){e={loginPayload:{email:this.email,password:this.password,returnSecureToken:!0},stayLogged:this.stayLogged},this.$store.dispatch("login",e)}},computed:{loading:function(){return this.$store.state.auth.loginIsLoading},error:function(){return this.$store.state.auth.loginError}},components:{TheCancelIcon:p,CorrectIcon:g["a"],WrongIcon:f["a"],LoadingSpinner:h["a"],AuthError:m["a"]},created:function(){this.$store.state.auth.loginError=!1}},_=w,k=(n("6666"),Object(u["a"])(_,i,c,!1,null,"0e26287c",null)),x=k.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page__nav nav"},[n("router-link",{staticClass:"nav__logo",attrs:{tag:"div",to:"/"},nativeOn:{click:function(t){return e.initialState(t)}}},[n("TheMovieClip"),n("h1",{staticClass:"nav__logo-header"},[n("span",[e._v("Movie")]),n("span",{staticClass:"nav__logo-span"},[e._v("Search")])])],1),n("ul",{staticClass:"nav__navigation"},[n("router-link",{staticClass:"nav__navigation-element",attrs:{tag:"li",to:"/","active-class":"nav__navigation-element-active",exact:""}},[n("h3",{staticClass:"nav__navigation-element-text"},[e._v("Home")])]),n("router-link",{staticClass:"nav__navigation-element",attrs:{tag:"li",to:"/upcoming","active-class":"nav__navigation-element-active"}},[n("h3",{staticClass:"nav__navigation-element-text"},[e._v("Upcoming")])]),n("router-link",{staticClass:"nav__navigation-element",attrs:{tag:"li",to:"/popular","active-class":"nav__navigation-element-active"}},[n("h3",{staticClass:"nav__navigation-element-text"},[e._v("Popular")])]),e.logged?n("router-link",{staticClass:"nav__navigation-element",attrs:{tag:"li",to:"/favourite","active-class":"nav__navigation-element-active"}},[n("h3",{staticClass:"nav__navigation-element-text"},[e._v("Favourite")])]):e._e(),e.logged?n("li",{staticClass:"nav__navigation-element-login",on:{click:e.logout}},[n("TheLogout"),n("h3",{staticClass:"nav__navigation-element-text"},[e._v("Logout")])],1):n("li",{staticClass:"nav__navigation-element-login",attrs:{to:"/login"},on:{click:e.showModal}},[n("TheLogin"),n("h3",{staticClass:"nav__navigation-element-text"},[e._v("Sign in")])],1)],1)],1)},M=[],O=function(e,t){var n=t._c;return n("svg",{staticStyle:{"enable-background":"new 0 0 277.446 277.446"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",fill:"white",viewBox:"0 10 270.446 350.446","xml:space":"preserve"}},[n("path",{attrs:{id:"_x30_6-Movie_Clapper",d:"M59.488,117.299c-0.504-4.237-2.007-8.171-4.273-11.556l202.992-67.776L247.552,6.051\n\tc-1.549-4.638-6.566-7.141-11.201-5.594L15.54,74.182c-4.635,1.547-7.143,6.563-5.594,11.201l5.225,15.647\n\tc-5.216,4.843-8.488,11.752-8.488,19.415c0,9.924,5.486,18.586,13.582,23.127v125.02c0,4.891,3.967,8.853,8.854,8.853h232.793\n\tc4.885,0,8.852-3.963,8.852-8.853V117.299H59.488z M188.869,26.724l26.875-8.973l-6.467,26.14l-26.875,8.973L188.869,26.724z\n\tM122.47,48.893l26.877-8.973l-6.467,26.139l-26.875,8.974L122.47,48.893z M33.181,133.946c-7.442,0-13.498-6.056-13.498-13.5\n\tc0-7.444,6.056-13.5,13.498-13.5c7.444,0,13.5,6.056,13.5,13.5C46.681,127.89,40.625,133.946,33.181,133.946z M56.074,71.062\n\tl26.877-8.973l-6.467,26.14l-26.877,8.974L56.074,71.062z M82.476,147.192H54.142l14.412-22.746h28.334L82.476,147.192z\n\tM138.554,124.446h28.334l-14.412,22.746h-28.334L138.554,124.446z M131.599,234.372v-60l47.783,30L131.599,234.372z\n\tM222.476,147.192h-28.334l14.412-22.746h28.334L222.476,147.192z"}})])},C=[],L=(n("31dc"),{}),$=Object(u["a"])(L,O,C,!0,null,"75714fdb",null),E=$.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",height:"24px",width:"24px",viewBox:"0 0 512 512","xml:space":"preserve"}},[n("g",[n("g",[n("path",{attrs:{d:"M437.02,330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521,243.251,404,198.548,404,148\n\t\t\tC404,66.393,337.607,0,256,0S108,66.393,108,148c0,50.548,25.479,95.251,64.262,121.962\n\t\t\tc-36.21,12.495-69.398,33.136-97.281,61.018C26.629,379.333,0,443.62,0,512h40c0-119.103,96.897-216,216-216s216,96.897,216,216\n\t\t\th40C512,443.62,485.371,379.333,437.02,330.98z M256,256c-59.551,0-108-48.448-108-108S196.449,40,256,40\n\t\t\tc59.551,0,108,48.448,108,108S315.551,256,256,256z"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")])},R=[],j=(n("747d"),{}),S=Object(u["a"])(j,I,R,!1,null,"368118b6",null),P=S.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",height:"24px",width:"24px",viewBox:"0 0 512 512","xml:space":"preserve"}},[n("path",{attrs:{d:"M510.371,226.513c-1.088-2.603-2.645-4.971-4.629-6.955l-63.979-63.979c-8.341-8.32-21.824-8.32-30.165,0\n\t\t\t\tc-8.341,8.341-8.341,21.845,0,30.165l27.584,27.584H320.013c-11.797,0-21.333,9.557-21.333,21.333s9.536,21.333,21.333,21.333\n\t\t\t\th119.168l-27.584,27.584c-8.341,8.341-8.341,21.845,0,30.165c4.16,4.181,9.621,6.251,15.083,6.251s10.923-2.069,15.083-6.251\n\t\t\t\tl63.979-63.979c1.984-1.963,3.541-4.331,4.629-6.955C512.525,237.606,512.525,231.718,510.371,226.513z"}}),n("path",{attrs:{d:"M362.68,298.667c-11.797,0-21.333,9.557-21.333,21.333v106.667h-85.333V85.333c0-9.408-6.187-17.728-15.211-20.437\n\t\t\t\tl-74.091-22.229h174.635v106.667c0,11.776,9.536,21.333,21.333,21.333s21.333-9.557,21.333-21.333v-128\n\t\t\t\tC384.013,9.557,374.477,0,362.68,0H21.347c-0.768,0-1.451,0.32-2.197,0.405c-1.003,0.107-1.92,0.277-2.88,0.512\n\t\t\t\tc-2.24,0.576-4.267,1.451-6.165,2.645c-0.469,0.299-1.045,0.32-1.493,0.661C8.44,4.352,8.376,4.587,8.205,4.715\n\t\t\t\tC5.88,6.549,3.939,8.789,2.531,11.456c-0.299,0.576-0.363,1.195-0.597,1.792c-0.683,1.621-1.429,3.2-1.685,4.992\n\t\t\t\tc-0.107,0.64,0.085,1.237,0.064,1.856c-0.021,0.427-0.299,0.811-0.299,1.237V448c0,10.176,7.189,18.923,17.152,20.907\n\t\t\t\tl213.333,42.667c1.387,0.299,2.795,0.427,4.181,0.427c4.885,0,9.685-1.685,13.525-4.843c4.928-4.053,7.808-10.091,7.808-16.491\n\t\t\t\tv-21.333H362.68c11.797,0,21.333-9.557,21.333-21.333V320C384.013,308.224,374.477,298.667,362.68,298.667z"}})])},A=[],U=(n("0c78"),{}),z=Object(u["a"])(U,T,A,!1,null,"006628a2",null),D=z.exports,N={data:function(){return{registerModal:!1,loginModal:!1}},components:{TheMovieClip:E,TheLogin:P,TheLogout:D},computed:{logged:function(){return this.$store.state.auth.userId&&this.$store.state.auth.token}},methods:{initialState:function(){this.$store.state.movies.movies=[],this.$store.state.movies.searched=!1},showModal:function(){this.$store.commit("showModal")},logout:function(){this.$store.commit("logout")}}},H=N,B=(n("2e3f"),Object(u["a"])(H,y,M,!1,null,null,null)),F=B.exports,V={components:{TheNavigation:F,TheLoginModal:x},created:function(){this.$store.commit("checkIfLogged",JSON.parse(localStorage.getItem("token"))),this.$store.dispatch("getUpcomingMovies"),this.$store.dispatch("getPopularMovies"),localStorage.getItem("token")&&this.$store.dispatch("getFavouriteMovies")},computed:{showModal:function(){return this.$store.state.movies.showModal}},methods:{closeModal:function(){this.$store.commit("closeModal")}}},q=V,G=(n("5c0b"),Object(u["a"])(q,r,o,!1,null,null,null)),W=G.exports,J=(n("d3b7"),n("8c4f"));a["a"].use(J["a"]);var Y=[{path:"/",name:"search",component:function(){return n.e("chunk-88efd74a").then(n.bind(null,"cbf8"))}},{path:"/favourite",name:"favourite",component:function(){return n.e("chunk-2d86ab77").then(n.bind(null,"47a7"))},beforeEnter:function(e,t,n){localStorage.getItem("token")?n():n("/")}},{path:"/movie/:id",name:"movie:id",props:function(e){return{id:e.params.id}},component:function(){return n.e("chunk-31952ad8").then(n.bind(null,"849b"))}},{path:"/upcoming",name:"upcoming",component:function(){return n.e("chunk-37dd103d").then(n.bind(null,"5c33"))}},{path:"/popular",name:"popular",component:function(){return n.e("chunk-07cbeb2c").then(n.bind(null,"9f58"))}},{path:"/register",name:"register",component:function(){return n.e("chunk-0b8decb5").then(n.bind(null,"bbd9"))},beforeEnter:function(e,t,n){localStorage.getItem("token")?n("/"):n()}},{path:"/error",name:"error",component:function(){return n.e("chunk-0a0874cd").then(n.bind(null,"dda8"))}},{path:"/*",redirect:"/error"}],K=new J["a"]({routes:Y}),Q=K,X=n("2f62"),Z=(n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("c740"),n("d81d"),n("a434"),n("b64b"),n("3ca3"),n("ddb0"),n("96cf"),n("1da1")),ee=n("a7fe"),te=n.n(ee),ne=(n("4de4"),n("e439"),n("dbb4"),n("ac1f"),n("5319"),n("159b"),n("ade3")),ae=n("bc3a"),re=n.n(ae),oe=re.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/"}),ie=oe,ce=re.a.create({baseURL:"https://movie-search-8b974.firebaseio.com/"}),se=ce;function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){Object(ne["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a["a"].use(X["a"],te.a);var de={state:{token:null,userId:null,showModal:!1,registerIsLoading:!1,loginIsLoading:!1,registerError:!1,loginError:!1},mutations:{showModal:function(e){return e.showModal=!0},closeModal:function(e){return e.showModal=!1},logout:function(e){e.token="",e.userId="",ge.state.favouriteMovies=[],ge.state.favouriteMoviesIds=[],localStorage.removeItem("token"),"/"!=Q.currentRoute.path&&Q.replace("/")},setUser:function(e,t){var n=t.idToken,a=t.localId,r=t.expire;e.token=n,e.userId=a,localStorage.setItem("token",JSON.stringify({idToken:n,localId:a,expire:r}))},checkIfLogged:function(e,t){var n=new Date;t&&(new Date(t.expire)>n?(e.token=t.idToken,e.userId=t.localId):localStorage.removeItem("token"))}},actions:{login:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,o,i,c,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,r=t.commit,o=t.dispatch,i=n.loginPayload,c=n.stayLogged,a.loginIsLoading=!0,e.prev=3,e.next=6,ie.post("accounts:signInWithPassword?key=".concat("AIzaSyD4dTWY8bU_OKnkuurS5w4GYEBlo1vnWzU"),i);case 6:s=e.sent,l=s.data,u=new Date,c?u.setHours(u.getHours()+48):u.setHours(u.getHours()+1),l=ue({},l,{expire:u}),r("setUser",l),o("getFavouriteMovies"),r("closeModal"),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),console.log("LOGIN ERROR",e.t0),a.loginError=!0;case 20:a.loginIsLoading=!1;case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));function t(t,n){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,r=t.commit,a.registerIsLoading=!0,e.prev=2,e.next=5,ie.post("accounts:signUp?key=".concat("AIzaSyD4dTWY8bU_OKnkuurS5w4GYEBlo1vnWzU"),n);case 5:return o=e.sent,i=o.data,e.next=9,se.put("".concat(i.localId,".json"),{email:n.email});case 9:c=new Date,c.setHours(c.getHours()+1),i=ue({},i,{expire:c}),r("setUser",i),Q.push("/favourite"),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](2),console.log("REGISTER ERROR",e.t0),a.registerError=!0;case 20:a.registerIsLoading=!1;case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));function t(t,n){return e.apply(this,arguments)}return t}()}},ve=re.a.create({baseURL:"https://api.themoviedb.org/3/"}),pe=ve;a["a"].use(X["a"],te.a,pe);var ge={state:{loading:!1,searched:!1,movies:[],favouriteMovies:[],upcomingMovies:[],popularMovies:[],favouriteMoviesIds:[],actualMovie:{},showModal:!1},mutations:{resetMovies:function(e){e.movies=[],e.loading=!0,e.searched=!1},resetActualMovie:function(e){e.loading=!0,e.actualMovie={}},setMovies:function(e,t){e.movies=t,e.loading=!1,e.searched=!0},setActualMovie:function(e,t){e.actualMovie=t,e.loading=!1},setFavouriteMovies:function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;n.push(s.id)}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}e.favouriteMovies=t,e.favouriteMoviesIds=n},setUpcomingMovies:function(e,t){e.upcomingMovies=t},setPopularMovies:function(e,t){e.popularMovies=t},showModal:function(e){e.showModal=!0},closeModal:function(e){e.showModal=!1}},actions:{searchByTitle:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,a("resetMovies"),e.prev=2,e.next=5,pe.get("search/movie?api_key=".concat("4a2556ad0cbaf0c9369adc89e3aaf7de","&query=").concat(n));case 5:r=e.sent,o=r.data,a("setMovies",o.results),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log("SEARCHING MOVIE ERROR",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),findExactMovie:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,a("resetActualMovie"),e.prev=2,e.next=5,pe.get("movie/".concat(n,"?api_key=").concat("4a2556ad0cbaf0c9369adc89e3aaf7de"));case 5:r=e.sent,o=r.data,a("setActualMovie",o),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),Q.push("/error"),console.log("ACTUAL MOVIE ERROR",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addFavouriteMovies:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,e.prev=1,a.favouriteMovies.push(n),a.favouriteMoviesIds.push(n.id),e.next=6,se.put("".concat(de.state.userId,"/movies/").concat(n.id,".json"),n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("ADD TO FAVOURITE ERROR",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),removeFavouriteMovie:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,e.prev=1,r=a.favouriteMovies.findIndex((function(e){return e.id===n})),o=a.favouriteMoviesIds.findIndex((function(e){return e===n})),a.favouriteMovies.splice(r,1),a.favouriteMoviesIds.splice(o,1),e.next=8,se.delete("".concat(de.state.userId,"/movies/").concat(n,".json"));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("REMOVE FROM FAVOURITE ERROR",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),getFavouriteMovies:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,se.get("".concat(de.state.userId,".json"));case 4:a=e.sent,n("setFavouriteMovies",Object.keys(a.data.movies).map((function(e){return a.data.movies[e]}))),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("GET MOVIES FROM DATABASE ERROR",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}(),getUpcomingMovies:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,pe.get("movie/upcoming?api_key=".concat("4a2556ad0cbaf0c9369adc89e3aaf7de","&language=en-US"));case 4:a=e.sent,r=a.data,n("setUpcomingMovies",r.results),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("GET UPCOMING MOVIES ERROR",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),getPopularMovies:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,pe.get("movie/popular?api_key=".concat("4a2556ad0cbaf0c9369adc89e3aaf7de"));case 4:a=e.sent,r=a.data,n("setPopularMovies",r.results),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("GET POPULAR MOVIES ERROR",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()}};a["a"].use(X["a"]);var fe=new X["a"].Store({modules:{movies:ge,auth:de}}),he=n("1dce"),me=n.n(he);a["a"].use(me.a,te.a,re.a),a["a"].config.productionTip=!1,new a["a"]({router:Q,store:fe,render:function(e){return e(W)}}).$mount("#app")},"5b6d":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},6666:function(e,t,n){"use strict";var a=n("86d4"),r=n.n(a);r.a},"70c1":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 512 512",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"red",d:"M339.7,258.8l156.4-156.4c22.4-22.4,22.4-58.6,0-81c-22.4-22.4-58.6-22.4-81,0L258.8,177.8l-161-161\n\tc-22.4-22.4-58.6-22.4-81,0c-22.4,22.4-22.4,58.6,0,81l161,161L22.3,414.3c-22.4,22.4-22.4,58.6,0,81C33.5,506.4,48.1,512,62.8,512\n\ts29.3-5.6,40.5-16.8l155.5-155.5l150.9,150.9c11.2,11.2,25.8,16.8,40.5,16.8c14.7,0,29.3-5.6,40.5-16.8c22.4-22.4,22.4-58.6,0-81\n\tL339.7,258.8z"}})])},r=[],o=(n("3e20"),n("2877")),i={},c=Object(o["a"])(i,a,r,!1,null,"1d02a49e",null);t["a"]=c.exports},"747d":function(e,t,n){"use strict";var a=n("3200"),r=n.n(a);r.a},7904:function(e,t,n){},"86d4":function(e,t,n){},"8fe6":function(e,t,n){},"967d":function(e,t,n){"use strict";var a=n("ad0f"),r=n.n(a);r.a},"9c0c":function(e,t,n){},a7af:function(e,t,n){},ad0f:function(e,t,n){},c634:function(e,t,n){"use strict";var a=n("5b6d"),r=n.n(a);r.a},ced5:function(e,t,n){},d76c:function(e,t,n){"use strict";var a=function(e,t){t._c;return t._m(0)},r=[function(e,t){var n=t._c;return n("div",[n("div",{staticClass:"spinner"})])}],o=(n("f088"),n("2877")),i={},c=Object(o["a"])(i,a,r,!0,null,null,null);t["a"]=c.exports},e591:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[e._t("default")],2)},r=[],o=(n("c634"),n("2877")),i={},c=Object(o["a"])(i,a,r,!1,null,"74312340",null);t["a"]=c.exports},f088:function(e,t,n){"use strict";var a=n("4d74"),r=n.n(a);r.a},f657:function(e,t,n){}});
//# sourceMappingURL=app.21a33b17.js.map